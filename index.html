<!DOCTYPE html>
<html lang="es">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MKGJNYHXMK"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-MKGJNYHXMK');</script>
    <script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');fbq('init','1391250095915107');fbq('track','PageView');</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Richard Automotive | Inventario Premium</title>

    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Richard Auto">
    <link rel="apple-touch-icon" href="https://i.postimg.cc/ryZDJfy7/IMG-8290.png">

    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('sw.js');
        });
      }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root{--primary:#002c5f;--bg:#f8f9fa;--text:#111;--white:#fff;--whatsapp:#25D366;--call:#34495e;--badge:#ff3b30}
        body{font-family:'Montserrat',sans-serif;margin:0;padding-bottom:90px;background:var(--bg)}
        header{background:linear-gradient(160deg,var(--primary),#000b1a);color:#fff;padding:40px 20px;text-align:center;border-radius:0 0 30px 30px}
        .hero-title{font-size:1.8rem;font-weight:800}
        .search-input{width:100%;max-width:500px;padding:15px;border-radius:50px;border:none;margin-top:20px}
        .inventory-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:15px;padding:20px}
        .car-card{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.1);position:relative;cursor:pointer}
        .card-badge{position:absolute;top:10px;left:10px;background:var(--badge);color:#fff;padding:5px 10px;border-radius:20px;font-size:0.7rem;font-weight:800;z-index:10}
        .card-img{width:100%;height:140px;object-fit:cover}
        .card-details{padding:15px;text-align:center}
        .card-price{font-size:1.4rem;font-weight:800;color:var(--primary)}
        .sticky-bar{position:fixed;bottom:0;width:100%;background:#fff;padding:15px;display:flex;gap:10px;box-shadow:0 -5px 10px rgba(0,0,0,0.05);z-index:100}
        .action-btn{flex:1;padding:12px;border-radius:12px;text-align:center;text-decoration:none;font-weight:800;color:#fff}
        .modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:200;align-items:flex-end}
        .modal-overlay.is-open{display:flex}
        .modal-content{background:#fff;width:100%;max-width:600px;margin:0 auto;border-radius:25px 25px 0 0;padding:25px;max-height:90vh;overflow-y:auto}
        .payment-display{font-size:3rem;font-weight:900;text-align:center;color:var(--primary);margin:20px 0}
        .pronto-toggles{display:flex;background:#eee;padding:5px;border-radius:12px;margin-bottom:20px}
        .pronto-opt{flex:1;text-align:center;padding:10px;cursor:pointer;border-radius:10px;font-weight:700}
        .pronto-opt.active{background:#fff;box-shadow:0 2px 5px rgba(0,0,0,0.1)}
        .btn-submit{width:100%;padding:18px;background:var(--primary);color:#fff;border:none;border-radius:12px;font-weight:800;font-size:1.1rem}
    </style>
</head>
<body>
    <header>
        <div class="hero-title">Richard Automotive</div>
        <input type="text" id="searchInput" class="search-input" placeholder="Buscar modelo...">
    </header>
    <div class="inventory-grid" id="grid"></div>
    <div class="sticky-bar">
        <a href="tel:17873682880" style="background:var(--call)" class="action-btn">ðŸ“ž Llamar</a>
        <a href="https://wa.me/17873682880" style="background:var(--whatsapp)" class="action-btn">ðŸ’¬ WhatsApp</a>
    </div>
    <div id="modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="mTitle"></h2>
            <img id="mImg" style="width:100%;border-radius:12px">
            <div class="payment-display" id="mPayment"></div>
            <div class="pronto-toggles" id="prontoOptions">
                <div class="pronto-opt active" data-value="0">$0 Pronto</div>
                <div class="pronto-opt" data-value="1500">$1.5k</div>
                <div class="pronto-opt" data-value="3000">$3k</div>
            </div>
            <input type="text" id="cName" style="width:100%;padding:15px;margin-bottom:15px;border-radius:10px;border:1px solid #ccc" placeholder="Tu Nombre">
            <button id="sendLead" class="btn-submit">SOLICITAR OFERTA</button>
            <button onclick="closeModal()" style="width:100%;background:none;border:none;color:#888;margin-top:15px">Cerrar</button>
        </div>
    </div>
    <script>
        const INVENTORY=[
            {id:'tucson',name:'Tucson',price:31995,img:'https://i.postimg.cc/ryZDJfy7/IMG-8290.png',badge:'Bono $2k'},
            {id:'kona',name:'Kona',price:27995,img:'https://i.postimg.cc/MKkm5ZGv/IMG-8292.webp',badge:''},
            {id:'santacruz',name:'Santa Cruz',price:34995,img:'https://i.postimg.cc/prK848L4/IMG-8293.png',badge:'LiquidaciÃ³n'},
            {id:'venue',name:'Venue',price:23995,img:'https://i.postimg.cc/zBgRHWKx/IMG-8296.png',badge:'EconÃ³mica'},
            {id:'elantra',name:'Elantra',price:25995,img:'https://i.postimg.cc/vT7g3sP9/IMG-8294.png',badge:'MPG LÃ­der'},
            {id:'santafe',name:'Santa Fe',price:41500,img:'https://i.postimg.cc/jSxN3DYR/IMG-8295.jpg',badge:'Nueva 2026'},
            {id:'palisade',name:'Palisade',price:48995,img:'https://i.postimg.cc/t4v1rDzw/IMG-8297.png',badge:'Familiar'},
            {id:'sonata',name:'Sonata',price:28995,img:'https://i.postimg.cc/bJkswPfg/IMG-8298.png',badge:'Lujo'}
        ];
        let currentCar=null,currentPronto=0;
        function calc(p,d){const r=0.0545/12,n=84;const pr=p-d;return Math.round((pr*r*Math.pow(1+r,n))/(Math.pow(1+r,n)-1));}
        function render(list){
            const g=document.getElementById('grid');g.innerHTML='';
            list.forEach(c=>{
                const card=document.createElement('div');card.className='car-card';
                card.onclick=()=>openModal(c);
                card.innerHTML=`${c.badge?`<div class="card-badge">${c.badge}</div>`:''}<img src="${c.img}" class="card-img"><div class="card-details"><b>${c.name}</b><div class="card-price">$${calc(c.price,0)}<small>/mes</small></div></div>`;
                g.appendChild(card);
            });
        }
        function openModal(c){
            currentCar=c;document.getElementById('mTitle').innerText=c.name;
            document.getElementById('mImg').src=c.img;updatePay(0);
            document.getElementById('modal').classList.add('is-open');
            if(typeof fbq !== 'undefined') fbq('track','ViewContent',{content_name:c.name});
        }
        function closeModal(){document.getElementById('modal').classList.remove('is-open');}
        function updatePay(v){currentPronto=v;document.getElementById('mPayment').innerText=`$${calc(currentCar.price,v)}/mes`;}
        document.getElementById('prontoOptions').onclick=(e)=>{
            if(e.target.dataset.value){
                document.querySelectorAll('.pronto-opt').forEach(o=>o.classList.remove('active'));
                e.target.classList.add('active');updatePay(parseInt(e.target.dataset.value));
            }
        }
        document.getElementById('sendLead').onclick=()=>{
            const n=document.getElementById('cName').value;
            const t=`Hola Richard, soy ${n}. Me interesa el ${currentCar.name}.`;
            if(typeof fbq !== 'undefined') fbq('track','Lead',{content_name:currentCar.name});
            window.open(`https://wa.me/17873682880?text=${encodeURIComponent(t)}`);
        }
        render(INVENTORY);
    </script>
</body>
</html>
